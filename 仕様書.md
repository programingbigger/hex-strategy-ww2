# 🎨 ゲーム仕様書：Hex Strategy Tactics

### 1. ゲーム概要
* **ゲームタイトル案**: Hex Strategy Tactics
* **テーマ**: 第二次世界大戦をテーマにしたヘックスベースの戦略シミュレーションゲーム。プレイヤーは部隊を指揮し、敵部隊を排除して勝利を目指します。
* **勝利条件**: 敵チームの全ユニットを排除する。

### 2. ユニット特性
ゲームには以下のユニットが登場し、それぞれ異なる特性を持ちます。

| ユニット種別 | 最大HP | 攻撃力 | 防御力 | 移動力 | 攻撃範囲 | 特徴 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| Infantry (歩兵) | 10 | 4 | 2 | 3 | 1マス | 標準的な歩兵ユニット。 |
| Tank (戦車) | 20 | 7 | 5 | 4 | 1マス | 高いHPと攻撃力を持つ車両ユニット。 |
| ArmoredCar (装甲車) | 15 | 5 | 4 | 6 | 1マス | 高い移動力を持つ車両ユニット。 |
| Artillery (砲兵) | 12 | 8 | 3 | 1 | 2-5マス | 遠距離攻撃が可能。地形の防御ボーナスを無視して攻撃できる。反撃不可。 |
| AntiTank (対戦車砲) | 10 | 車両:8, 歩兵:4 | 車両:6, 歩兵:2 | 1 | 1マス | 特定のユニット種別に対して攻撃力・防御力が変動する。 |

### 3. 地形特性
マップは様々な地形から構成され、ユニットの移動や戦闘に影響を与えます。

| 地形種別 | 防御ボーナス | 攻撃ボーナス | 主な移動コスト (歩兵/戦車/装甲車/砲兵/対戦車砲) |
| :--- | :--- | :--- | :--- |
| Plains (平地) | 0 | 0 | 1/1/1/1/1 |
| Forest (森) | 2 | 0 | 1/2/2/1/1 |
| Mountain (山) | 3 | 2 | 2/∞/∞/∞/∞ |
| River (川) | -2 | -1 | 2/∞/∞/∞/∞ |
| Road (道路) | -1 | 0 | 1/1/1/1/1 |
| Bridge (橋) | -1 | 0 | 1/1/1/1/1 |
| City (都市) | 3 | 1 | 1/1/1/1/1 |
| Mud (泥濘) | -1 | 0 | 2/3/4/1/1 |

### 4. 基本ルールと流れ
1.  **ターン制**: ゲームはターン制で進行します。青チームと赤チームが交互に手番を行います。
2.  **ユニットのアクション**: 各ユニットは1ターンに1回移動し、1回攻撃できます。移動後に攻撃、または攻撃後に移動（移動力が残っている場合）が可能です。
3.  **行動済みユニット**: 移動または攻撃を行ったユニットは「行動済み」となり、そのターン中はそれ以上行動できません。
4.  **待機**: ユニットは移動後に「待機」を選択し、そのターンの行動を終了できます。
5.  **行動の取り消し**: ユニットが移動した直後であれば、「移動の取り消し」を行い、移動前の状態に戻すことができます。
6.  **天候**: ターン経過とともに天候が変化し、マップ上の地形に影響を与えることがあります（例: 雨が続くと平地が泥濘に変化）。
7.  **ゾーン・オブ・コントロール (ZOC)**: 敵ユニットに隣接するヘックスはZOCとなり、ZOCに入ると移動コストが増加し、そのヘックスで移動が終了します。

### 5. UI概要
*   **ヘッダー**: 画面上部に表示され、現在のターン数、アクティブなチーム、各チームの残りユニット数、選択中のユニット情報、カーソル下のヘックス座標、現在の天候を表示します。「ターン終了」ボタンもここに配置されます。
*   **ゲームボード**: 画面中央の大部分を占め、ヘックスタイルで構成されたマップと、その上に配置されたユニットを表示します。選択中のユニットの移動可能範囲や攻撃可能範囲がハイライト表示されます。
*   **情報パネル**: 画面右側に表示され、カーソル下の地形やユニットの詳細情報、ゲームの勝敗状況（ゲームオーバー時）、選択中のユニットに対するアクション（待機、移動の取り消し）を提供します。
*   **戦闘レポートモーダル**: 戦闘が発生した際にポップアップ表示され、攻撃側と防御側のユニット、与えたダメージ、そして戦闘の経緯を物語形式で表示します。
*   **ロード中表示**: AIが戦闘レポートを生成している間、画面中央にローディングアニメーションとメッセージが表示されます。
